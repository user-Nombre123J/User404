local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local whitelist = loadstring(game:HttpGet(
    "https://raw.githubusercontent.com/user-Nombre123J/Whitelist-/refs/heads/main/Whitelist.lua2"
))()

if not whitelist[LocalPlayer.Name] then
    LocalPlayer:Kick("ðŸ”’ Script privado")
    return
end

-- Desde aquÃ­ sÃ­ carga el script
print("Acceso concedido a:", LocalPlayer.Name)
local Players = game:GetService("Players")
local VirtualUser = game:GetService("VirtualUser")

local Player = Players.LocalPlayer

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local SoundService = game:GetService("SoundService")

local displayName = player.DisplayName
if not displayName or displayName == "" then
    displayName = player.Name
end
local Players = game:GetService("Players")
local player = Players.LocalPlayer
local title = ("KILLS OP PRIVATE BY JOHAN | WELCOME - ðŸ‘‘%s"):format(displayName)

local library = loadstring(game:HttpGet("https://raw.githubusercontent.com/user-Nombre123J/User-404/refs/heads/main/Librery%20angel"))()

local window = library:AddWindow(title, {
    main_color = Color3.fromRGB(0, 0, 0),
    min_size = Vector2.new(480, 870),
    can_resize = true,
})
local MainTab = window:AddTab("Main")
MainTab:AddLabel("Important:").TextSize = 22

local antiKnockbackSwitch =
    MainTab:AddSwitch(
    "Anti Fling",
    function(bool)
        if bool then
            local playerName = game.Players.LocalPlayer.Name
            local character = game.Workspace:FindFirstChild(playerName)
            if character then
                local rootPart = character:FindFirstChild("HumanoidRootPart")
                if rootPart then
                    local bodyVelocity = Instance.new("BodyVelocity")
                    bodyVelocity.MaxForce = Vector3.new(100000, 0, 100000)
                    bodyVelocity.Velocity = Vector3.new(0, 0, 0)
                    bodyVelocity.P = 1250
                    bodyVelocity.Parent = rootPart
                end
            end
        else
            local playerName = game.Players.LocalPlayer.Name
            local character = game.Workspace:FindFirstChild(playerName)
            if character then
                local rootPart = character:FindFirstChild("HumanoidRootPart")
                if rootPart then
                    local existingVelocity = rootPart:FindFirstChild("BodyVelocity")
                    if existingVelocity and existingVelocity.MaxForce == Vector3.new(100000, 0, 100000) then
                        existingVelocity:Destroy()
                    end
                end
            end
        end
    end
)
antiKnockbackSwitch:Set(true)

local lockRunning = false
local lockConnection

local lockSwitch = MainTab:AddSwitch("Lock Position", function(Value)
    local player = game.Players.LocalPlayer

    if Value then
        lockRunning = true
        lockConnection = game:GetService("RunService").Heartbeat:Connect(function()
            local char = player.Character
            if not char or not char:FindFirstChild("HumanoidRootPart") or not char:FindFirstChildOfClass("Humanoid") then return end

            local hrp = char.HumanoidRootPart
            local humanoid = char:FindFirstChildOfClass("Humanoid")

            if not humanoid or not hrp then return end

            if not humanoid:FindFirstChild("LockState") then
                humanoid.WalkSpeed = 0
                humanoid.JumpPower = 0
                humanoid.AutoRotate = false
                humanoid:ChangeState(Enum.HumanoidStateType.Physics)
                local marker = Instance.new("BoolValue", humanoid)
                marker.Name = "LockState"
                marker.Value = true
                humanoid:SetAttribute("LockCFrame", hrp.CFrame)
            end

            local savedCFrame = humanoid:GetAttribute("LockCFrame")
            if savedCFrame then
                hrp.Velocity = Vector3.zero
                hrp.RotVelocity = Vector3.zero
                hrp.CFrame = savedCFrame
            end
        end)
    else
        lockRunning = false
        if lockConnection then
            lockConnection:Disconnect()
            lockConnection = nil
        end
        local char = player.Character
        if char then
            local humanoid = char:FindFirstChildOfClass("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = 250
                humanoid.JumpPower = 50
                humanoid.AutoRotate = true
                humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
                if humanoid:FindFirstChild("LockState") then
                    humanoid.LockState:Destroy()
                end
                humanoid:SetAttribute("LockCFrame", nil)
            end
        end
    end
end)

lockSwitch:Set(false)


local showpetsswitch =
    MainTab:AddSwitch(
    "Show Pets",
    function(bool)
        local player = game:GetService("Players").LocalPlayer
        if player:FindFirstChild("hidePets") then
            player.hidePets.Value = bool
        end
    end
)
showpetsswitch:Set(false)

local showotherpetsswitch =
    MainTab:AddSwitch(
    "Show Other Pets",
    function(bool)
        local player = game:GetService("Players").LocalPlayer
        if player:FindFirstChild("showOtherPetsOn") then
            player.showOtherPetsOn.Value = bool
        end
    end
)
showotherpetsswitch:Set(false)

MainTab:AddLabel("Misc:").TextSize = 22

MainTab:AddSwitch(
    "Infinite Jump",
    function(bool)
        _G.InfiniteJump = bool

        if bool then
            local InfiniteJumpConnection
            InfiniteJumpConnection =
                game:GetService("UserInputService").JumpRequest:Connect(
                function()
                    if _G.InfiniteJump then
                        game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState(
                            "Jumping"
                        )
                    else
                        InfiniteJumpConnection:Disconnect()
                    end
                end
            )
        end
    end
)

local parts = {}
local partSize = 2048
local totalDistance = 50000
local startPosition = Vector3.new(-2, -9.5, -2)

local function createAllParts()
    local numberOfParts = math.ceil(totalDistance / partSize)

    for x = 0, numberOfParts - 1 do
        for z = 0, numberOfParts - 1 do
            local function createPart(pos, name)
                local part = Instance.new("Part")
                part.Size = Vector3.new(partSize, 1, partSize)
                part.Position = pos
                part.Anchored = true
                part.Transparency = 1
                part.CanCollide = true
                part.Name = name
                part.Parent = workspace
                return part
            end

            table.insert(
                parts,
                createPart(startPosition + Vector3.new(x * partSize, 0, z * partSize), "Part_Side_" .. x .. "_" .. z)
            )
            table.insert(
                parts,
                createPart(
                    startPosition + Vector3.new(-x * partSize, 0, z * partSize),
                    "Part_LeftRight_" .. x .. "_" .. z
                )
            )
            table.insert(
                parts,
                createPart(
                    startPosition + Vector3.new(-x * partSize, 0, -z * partSize),
                    "Part_UpLeft_" .. x .. "_" .. z
                )
            )
            table.insert(
                parts,
                createPart(
                    startPosition + Vector3.new(x * partSize, 0, -z * partSize),
                    "Part_UpRight_" .. x .. "_" .. z
                )
            )
        end
    end
end
task.spawn(createAllParts)

local walkonwaterSwicth =
    MainTab:AddSwitch(
    "Walk on Water",
    function(bool)
        for _, part in ipairs(parts) do
            if part and part.Parent then
                part.CanCollide = bool
            end
        end
    end
)
walkonwaterSwicth:Set(true)

local timeDropdown =
    MainTab:AddDropdown(
    "Change Time",
    function(selection)
        local lighting = game:GetService("Lighting")

        if selection == "Night" then
            lighting.ClockTime = 0
        elseif selection == "Day" then
            lighting.ClockTime = 12
        elseif selection == "Midnight" then
            lighting.ClockTime = 6
        end
    end
)

timeDropdown:Add("Night")
timeDropdown:Add("Day")
timeDropdown:Add("Midnight")

local Killer = window:AddTab("Kill")

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local playerWhitelist = {}
local targetPlayerNames = {}
local autoGoodKarma = false
local autoBadKarma = false
local autoKill = false
local killTarget = false
local spying = false
local autoPunchNoAnim = false
local targetDropdownItems = {}
local availableTargets = {}

local titleLabel = Killer:AddLabel("Select damage or durability pet")
titleLabel.TextSize = 18
titleLabel.Font = Enum.Font.Merriweather 
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)

local dropdown = Killer:AddDropdown("Select Pet", function(text)
    local petsFolder = game.Players.LocalPlayer.petsFolder
    for _, folder in pairs(petsFolder:GetChildren()) do
        if folder:IsA("Folder") then
            for _, pet in pairs(folder:GetChildren()) do
                game:GetService("ReplicatedStorage").rEvents.equipPetEvent:FireServer("unequipPet", pet)
            end
        end
    end
    task.wait(0.2)

    local petName = text
    local petsToEquip = {}

    for _, pet in pairs(game.Players.LocalPlayer.petsFolder.Unique:GetChildren()) do
        if pet.Name == petName then
            table.insert(petsToEquip, pet)
        end
    end

    local maxPets = 8
    local equippedCount = math.min(#petsToEquip, maxPets)

    for i = 1, equippedCount do
        game:GetService("ReplicatedStorage").rEvents.equipPetEvent:FireServer("equipPet", petsToEquip[i])
        task.wait(0.1)
    end
end)

local Wild_Wizard = dropdown:Add("Wild Wizard")
local Powerful_Monster = dropdown:Add("Mighty Monster")

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local friendWhitelistActive = false

Killer:AddSwitch("Auto Whitelist Friends", function(state)
    friendWhitelistActive = state

    if state then
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and LocalPlayer:IsFriendsWith(player.UserId) then
                if not table.find(_G.whitelistedPlayers, player.Name) then
                    table.insert(_G.whitelistedPlayers, player.Name)
                    print(player.Name .. " (amigo) aÃƒÂ±adido a Whitelist")
                end
            end
        end

        Players.PlayerAdded:Connect(function(player)
            if friendWhitelistActive and player ~= LocalPlayer and LocalPlayer:IsFriendsWith(player.UserId) then
                if not table.find(_G.whitelistedPlayers, player.Name) then
                    table.insert(_G.whitelistedPlayers, player.Name)
                    print(player.Name .. " (amigo) aÃƒÂ±adido a Whitelist")
                end
            end
        end)
    else
        for i = #_G.whitelistedPlayers, 1, -1 do
            local friend = Players:FindFirstChild(_G.whitelistedPlayers[i])
            if friend and LocalPlayer:IsFriendsWith(friend.UserId) then
                print(_G.whitelistedPlayers[i] .. " (amigo) eliminado de Whitelist")
                table.remove(_G.whitelistedPlayers, i)
            end
        end
    end
end)




local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

_G.whitelistedPlayers = _G.whitelistedPlayers or {}

local whitelistDropdownItems = {}
local selectedWhitelist = nil

local whitelistDropdown = Killer:AddDropdown("Add to Whitelist", function(displayName)
    for _, player in ipairs(Players:GetPlayers()) do
        if player.DisplayName == displayName then
            if not table.find(_G.whitelistedPlayers, player.Name) then
                table.insert(_G.whitelistedPlayers, player.Name) 
            end
            selectedWhitelist = player.Name
            print(player.Name .. " agregado a Whitelist")
            break
        end
    end
end)

Killer:AddButton("Remove Selected Whitelist", function()
    if selectedWhitelist then
        for i, v in ipairs(_G.whitelistedPlayers) do
            if v == selectedWhitelist then
                table.remove(_G.whitelistedPlayers, i)
                print(selectedWhitelist .. " eliminado de Whitelist")
                break
            end
        end
        selectedWhitelist = nil
    end
end)

for _, player in ipairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        whitelistDropdown:Add(player.DisplayName)
        whitelistDropdownItems[player.Name] = player.DisplayName
    end
end

Players.PlayerAdded:Connect(function(player)
    if player ~= LocalPlayer then
        whitelistDropdown:Add(player.DisplayName)
        whitelistDropdownItems[player.Name] = player.DisplayName
    end
end)

Players.PlayerRemoving:Connect(function(player)
    if whitelistDropdownItems[player.Name] then
        whitelistDropdownItems[player.Name] = nil
        whitelistDropdown:Clear()
        for _, displayName in pairs(whitelistDropdownItems) do
            whitelistDropdown:Add(displayName)
        end
    end

    for i = #_G.whitelistedPlayers, 1, -1 do
        if _G.whitelistedPlayers[i] == player.Name then
            table.remove(_G.whitelistedPlayers, i)
        end
    end
end)
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local player = Players.LocalPlayer
local equipEvent = ReplicatedStorage.rEvents.equipPetEvent

local PET_A = "Wild Wizard"
local PET_B = "Mighty Monster"
local MAX = 8
local ROTATE_DELAY = 0.1

local running = false

local function unequipAll()
    for _, folder in pairs(player.petsFolder:GetChildren()) do
        if folder:IsA("Folder") then
            for _, pet in pairs(folder:GetChildren()) do
                equipEvent:FireServer("unequipPet", pet)
            end
        end
    end
end

local function equip8(petName)
    local count = 0
    for _, pet in pairs(player.petsFolder.Unique:GetChildren()) do
        if pet.Name == petName then
            equipEvent:FireServer("equipPet", pet)
            count += 1
            task.wait(0.1)

            if count >= MAX then
                break
            end
        end
    end
end

local function rotateLoop()
    while running do
        unequipAll()
        task.wait(0.1)
        equip8(PET_A)

        task.wait(ROTATE_DELAY)
        if not running then break end

        unequipAll()
        task.wait(0.1)
        equip8(PET_B)

        task.wait(ROTATE_DELAY)
    end
end

Killer:AddSwitch("Auto cambiar pet de daÃ±o y vida", function(Value)
    running = Value
    if Value then
        task.spawn(rotateLoop)
    end
end)

Killer:AddSwitch("Block touch Egg", function(Value)
    _G.BlockProteinEgg = Value

    local Players = game:GetService("Players")
    local LocalPlayer = Players.LocalPlayer
    local BLOCKED_TOOL_NAME = "Protein Egg"

    if not Value then
        print("Bloqueo del Protein Egg: DESACTIVADO âŒ")
        return
    end

    print("Bloqueo del Protein Egg: ACTIVADO")

    local function neutralizeTool(tool)
        for _, desc in ipairs(tool:GetDescendants()) do
            if desc:IsA("LocalScript") then
                desc.Disabled = true
            elseif desc:IsA("Script") then
                desc:Destroy()
            end

            if desc:IsA("RemoteEvent") then
                pcall(function()
                    desc.FireServer = function() end
                end)
            end

            if desc:IsA("BasePart") then
                for _, conn in ipairs(getconnections(desc.Touched)) do
                    conn:Disable()
                end
                for _, conn in ipairs(getconnections(desc.TouchEnded)) do
                    conn:Disable()
                end

                local ti = desc:FindFirstChildOfClass("TouchTransmitter")
                if ti then ti:Destroy() end
            end
        end
    end

    local function monitor(container)
        for _, tool in ipairs(container:GetChildren()) do
            if tool:IsA("Tool") and tool.Name == BLOCKED_TOOL_NAME then
                task.defer(function()
                    neutralizeTool(tool)
                end)
            end
        end

        container.ChildAdded:Connect(function(child)
            if child:IsA("Tool") and child.Name == BLOCKED_TOOL_NAME then
                task.defer(function()
                    neutralizeTool(child)
                end)
            end
        end)
    end

    monitor(LocalPlayer:WaitForChild("Backpack"))

    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    monitor(char)

    LocalPlayer.CharacterAdded:Connect(function(char)
        monitor(char)
    end)
end)


Killer:AddSwitch("Auto Kill", function(bool)
    autoKill = bool

    task.spawn(function()
        while autoKill do
            local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
            local rightHand = character:FindFirstChild("RightHand")
            local leftHand = character:FindFirstChild("LeftHand")
            local punch = LocalPlayer.Backpack:FindFirstChild("Punch")
            if punch and not character:FindFirstChild("Punch") then
                punch.Parent = character
            end

            if rightHand and leftHand then
                for _, target in ipairs(Players:GetPlayers()) do
                    if target ~= LocalPlayer and target.Character then
                        local isWhitelisted = false
                        for _, name in ipairs(_G.whitelistedPlayers) do
                            if name:lower() == target.Name:lower() then
                                isWhitelisted = true
                                break
                            end
                        end

                        if not isWhitelisted then
                            local rootPart = target.Character:FindFirstChild("HumanoidRootPart")
                            local humanoid = target.Character:FindFirstChild("Humanoid")
                            if rootPart and humanoid and humanoid.Health > 0 then
                                pcall(function()
                                    firetouchinterest(rightHand, rootPart, 1)
                                    firetouchinterest(leftHand, rootPart, 1)
                                    firetouchinterest(rightHand, rootPart, 0)
                                    firetouchinterest(leftHand, rootPart, 0)
                                end)
                            end
                        end
                    end
                end
            end

            task.wait(0.05)
        end
    end)
end)

local targetDropdownItems = {}
local targetPlayerNames = {}
local selectedTarget = nil

local targetDropdown = Killer:AddDropdown("Select Target", function(displayName)
    for _, player in ipairs(Players:GetPlayers()) do
        if player.DisplayName == displayName then
            if not table.find(targetPlayerNames, player.Name) then
                table.insert(targetPlayerNames, player.Name)
            end
            selectedTarget = player.Name
            break
        end
    end
end)

Killer:AddButton("Remove Selected Target", function()
    if selectedTarget then
        for i, v in ipairs(targetPlayerNames) do
            if v == selectedTarget then
                table.remove(targetPlayerNames, i)
                break
            end
        end
        selectedTarget = nil
    end
end)

for _, player in ipairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        targetDropdown:Add(player.DisplayName)
        targetDropdownItems[player.Name] = player.DisplayName
    end
end

Players.PlayerAdded:Connect(function(player)
    if player ~= LocalPlayer then
        targetDropdown:Add(player.DisplayName)
        targetDropdownItems[player.Name] = player.DisplayName
    end
end)

Players.PlayerRemoving:Connect(function(player)
    if targetDropdownItems[player.Name] then
        targetDropdownItems[player.Name] = nil
        targetDropdown:Clear()
        for _, displayName in pairs(targetDropdownItems) do
            targetDropdown:Add(displayName)
        end
    end

    for i = #targetPlayerNames, 1, -1 do
        if targetPlayerNames[i] == player.Name then
            table.remove(targetPlayerNames, i)
        end
    end
end)

Killer:AddSwitch("Start Kill Target", function(state)
    killTarget = state

    task.spawn(function()
        while killTarget do
            local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()

            local punch = LocalPlayer.Backpack:FindFirstChild("Punch")
            if punch and not character:FindFirstChild("Punch") then
                punch.Parent = character
            end

            local rightHand = character:FindFirstChild("RightHand")
            local leftHand = character:FindFirstChild("LeftHand")

            if rightHand and leftHand then
                for _, name in ipairs(targetPlayerNames) do
                    local target = Players:FindFirstChild(name)
                    if target and target ~= LocalPlayer and target.Character then
                        local rootPart = target.Character:FindFirstChild("HumanoidRootPart")
                        local humanoid = target.Character:FindFirstChild("Humanoid")
                        if rootPart and humanoid and humanoid.Health > 0 then
                            pcall(function()
                                firetouchinterest(rightHand, rootPart, 1)
                                firetouchinterest(leftHand, rootPart, 1)
                                firetouchinterest(rightHand, rootPart, 0)
                                firetouchinterest(leftHand, rootPart, 0)
                            end)
                        end
                    end
                end
            end

            task.wait(0.05)
        end
    end)
end)

local spyTargetDropdownItems = {}
local targetPlayerName = nil

local spyTargetDropdown = Killer:AddDropdown("Select View Target", function(displayName)
    for _, player in ipairs(Players:GetPlayers()) do
        if player.DisplayName == displayName then
            targetPlayerName = player.Name
            break
        end
    end
end)

for _, player in ipairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        spyTargetDropdown:Add(player.DisplayName)
        spyTargetDropdownItems[player.Name] = player.DisplayName
    end
end

Players.PlayerAdded:Connect(function(player)
    if player ~= LocalPlayer then
        spyTargetDropdown:Add(player.DisplayName)
        spyTargetDropdownItems[player.Name] = player.DisplayName
    end
end)

Players.PlayerRemoving:Connect(function(player)
    if player ~= LocalPlayer then
        spyTargetDropdownItems[player.Name] = nil
        spyTargetDropdown:Clear()
        for _, displayName in pairs(spyTargetDropdownItems) do
            spyTargetDropdown:Add(displayName)
        end
    end
end)

Killer:AddSwitch("View Player", function(bool)
    spying = bool
    if not spying then
        local cam = workspace.CurrentCamera
        cam.CameraSubject = LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") or LocalPlayer
        return
    end
    task.spawn(function()
        while spying do
            local target = Players:FindFirstChild(targetPlayerName)
            if target and target ~= LocalPlayer then
                local humanoid = target.Character and target.Character:FindFirstChild("Humanoid")
                if humanoid then
                    workspace.CurrentCamera.CameraSubject = humanoid
                end
            end
            task.wait(0.1)
        end
    end)
end)

local button = Killer:AddButton("Remove Punch Anim", function()
    local blockedAnimations = {
        ["rbxassetid://3638729053"] = true,
        ["rbxassetid://3638767427"] = true,
    }

    local function setupAnimationBlocking()
        local char = game.Players.LocalPlayer.Character
        if not char or not char:FindFirstChild("Humanoid") then return end

        local humanoid = char:FindFirstChild("Humanoid")

        for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
            if track.Animation then
                local animId = track.Animation.AnimationId
                local animName = track.Name:lower()

                if blockedAnimations[animId] or
                    animName:match("punch") or
                    animName:match("attack") or
                    animName:match("right") then
                    track:Stop()
                end
            end
        end

        if not _G.AnimBlockConnection then
            local connection = humanoid.AnimationPlayed:Connect(function(track)
                if track.Animation then
                    local animId = track.Animation.AnimationId
                    local animName = track.Name:lower()

                    if blockedAnimations[animId] or
                        animName:match("punch") or
                        animName:match("attack") or
                        animName:match("right") then
                        track:Stop()
                    end
                end
            end)

            _G.AnimBlockConnection = connection
        end
    end

    setupAnimationBlocking()

    local function overrideToolActivation()
        local function processTool(tool)
            if tool and (tool.Name == "Punch" or tool.Name:match("Attack") or tool.Name:match("Right")) then
                if not tool:GetAttribute("ActivatedOverride") then
                    tool:SetAttribute("ActivatedOverride", true)

                    local connection = tool.Activated:Connect(function()
                        task.wait(0.05)

                        local char = game.Players.LocalPlayer.Character
                        if char and char:FindFirstChild("Humanoid") then
                            for _, track in pairs(char.Humanoid:GetPlayingAnimationTracks()) do
                                if track.Animation then
                                    local animId = track.Animation.AnimationId
                                    local animName = track.Name:lower()

                                    if blockedAnimations[animId] or
                                        animName:match("punch") or
                                        animName:match("attack") or
                                        animName:match("right") then
                                        track:Stop()
                                    end
                                end
                            end
                        end
                    end)

                    if not _G.ToolConnections then
                        _G.ToolConnections = {}
                    end
                    _G.ToolConnections[tool] = connection
                end
            end
        end

        for _, tool in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
            processTool(tool)
        end

        local char = game.Players.LocalPlayer.Character
        if char then
            for _, tool in pairs(char:GetChildren()) do
                if tool:IsA("Tool") then
                    processTool(tool)
                end
            end
        end

        if not _G.BackpackAddedConnection then
            _G.BackpackAddedConnection = game.Players.LocalPlayer.Backpack.ChildAdded:Connect(function(child)
                if child:IsA("Tool") then
                    task.wait(0.1)
                    processTool(child)
                end
            end)
        end

        if not _G.CharacterToolAddedConnection and char then
            _G.CharacterToolAddedConnection = char.ChildAdded:Connect(function(child)
                if child:IsA("Tool") then
                    task.wait(0.1)
                    processTool(child)
                end
            end)
        end
    end

    overrideToolActivation()

    if not _G.AnimMonitorConnection then
        _G.AnimMonitorConnection = game:GetService("RunService").Heartbeat:Connect(function()
            if tick() % 0.5 < 0.01 then
                local char = game.Players.LocalPlayer.Character
                if char and char:FindFirstChild("Humanoid") then
                    for _, track in pairs(char.Humanoid:GetPlayingAnimationTracks()) do
                        if track.Animation then
                            local animId = track.Animation.AnimationId
                            local animName = track.Name:lower()

                            if blockedAnimations[animId] or
                                animName:match("punch") or
                                animName:match("attack") or
                                animName:match("right") then
                                track:Stop()
                            end
                        end
                    end
                end
            end
        end)
    end

    if not _G.CharacterAddedConnection then
        _G.CharacterAddedConnection = game.Players.LocalPlayer.CharacterAdded:Connect(function(newChar)
            task.wait(1)
            setupAnimationBlocking()
            overrideToolActivation()

            if _G.CharacterToolAddedConnection then
                _G.CharacterToolAddedConnection:Disconnect()
            end

            _G.CharacterToolAddedConnection = newChar.ChildAdded:Connect(function(child)
                if child:IsA("Tool") then
                    task.wait(0.1)
                    processTool(child)
                end
            end)
        end)
    end
end)

function RecoveryPunch()
    if _G.AnimBlockConnection then
        _G.AnimBlockConnection:Disconnect()
        _G.AnimBlockConnection = nil
    end
    if _G.AnimMonitorConnection then
        _G.AnimMonitorConnection:Disconnect()
        _G.AnimMonitorConnection = nil
    end
    if _G.ToolConnections then
        for _, conn in pairs(_G.ToolConnections) do
            if conn then conn:Disconnect() end
        end
        _G.ToolConnections = nil
    end
    if _G.BackpackAddedConnection then
        _G.BackpackAddedConnection:Disconnect()
        _G.BackpackAddedConnection = nil
    end
    if _G.CharacterToolAddedConnection then
        _G.CharacterToolAddedConnection:Disconnect()
        _G.CharacterToolAddedConnection = nil
    end
    if _G.CharacterAddedConnection then
        _G.CharacterAddedConnection:Disconnect()
        _G.CharacterAddedConnection = nil
    end
end

Killer:AddButton("Recover Punch Anim", function()
    RecoveryPunch()
end)

Killer:AddSwitch("Auto Punch NoAnim", function(state)
    _G.AutoPunchNoAnim = state

    local Players = game:GetService("Players")
    local RS = game:GetService("RunService")
    local LP = Players.LocalPlayer

    local function equip()
        local char = LP.Character
        local hum = char and char:FindFirstChild("Humanoid")
        local bp = LP:FindFirstChild("Backpack")
        local t = bp and bp:FindFirstChild("Punch")

        if hum and t then hum:EquipTool(t) end
    end

    task.spawn(function()
        while _G.AutoPunchNoAnim do
            equip()
            local char = LP.Character
            local ev = LP:FindFirstChild("muscleEvent")
            if char and ev then ev:FireServer("punch", "rightHand") end
            RS.Heartbeat:Wait()
        end
    end)
end)

_G.FastEquip = false

Killer:AddSwitch("Fast Equip Punch", function(state)
    _G.FastEquip = state

    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local LP = Players.LocalPlayer

    task.spawn(function()
        while _G.FastEquip do
            local char = LP.Character
            local bp = LP:FindFirstChild("Backpack")

            if char and bp then
                -- CAMBIA "Punch" SI TU TOOL TIENE OTRO NOMBRE
                local tool = char:FindFirstChild("Punch")
                    or bp:FindFirstChild("Punch")

                if tool then
                    -- DESEQUIPAR
                    tool.Parent = bp
                    task.wait(0.01)

                    -- EQUIPAR
                    tool.Parent = char
                end
            end

            RunService.Heartbeat:Wait()
        end
    end)
end)

_G.AutoPunch = false

Killer:AddSwitch("Auto Punch (Equip Loop)", function(state)
    _G.AutoPunch = state

    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local LP = Players.LocalPlayer

    task.spawn(function()
        while _G.AutoPunch do
            local char = LP.Character
            local bp = LP:FindFirstChild("Backpack")

            if char and bp then
                -- Busca el puÃ±o
                local tool = char:FindFirstChild("Punch")
                    or bp:FindFirstChild("Punch")
                    or char:FindFirstChildOfClass("Tool")
                    or bp:FindFirstChildOfClass("Tool")

                if tool then
                    -- Equipar
                    tool.Parent = char
                    task.wait(0.02)

                    -- PEGAR (como click)
                    pcall(function()
                        tool:Activate()
                    end)

                    task.wait(0.02)

                    -- Desequipar
                    tool.Parent = bp
                end
            end

            RunService.Heartbeat:Wait()
        end
    end)
end)

_G.AutoReset = false

_G.AutoPunch = false

Killer:AddSwitch("Auto Punch FAST", function(state)
    _G.AutoPunch = state

    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local LP = Players.LocalPlayer

    -- AJUSTES DE VELOCIDAD
    local EQUIP_DELAY = 0.01   -- equip / unequip (mÃ¡s bajo = mÃ¡s rÃ¡pido)
    local PUNCH_DELAY = 0      -- delay antes del golpe (0 = mÃ¡ximo)

    task.spawn(function()
        while _G.AutoPunch do
            local char = LP.Character
            local bp = LP:FindFirstChild("Backpack")

            if char and bp then
                -- CAMBIA "Punch" SI TU TOOL TIENE OTRO NOMBRE
                local tool = char:FindFirstChild("Punch")
                    or bp:FindFirstChild("Punch")
                    or char:FindFirstChildOfClass("Tool")
                    or bp:FindFirstChildOfClass("Tool")

                if tool then
                    -- EQUIPAR
                    tool.Parent = char
                    if EQUIP_DELAY > 0 then task.wait(EQUIP_DELAY) end

                    -- PEGAR (click automÃ¡tico)
                    pcall(function()
                        tool:Activate()
                    end)

                    if PUNCH_DELAY > 0 then task.wait(PUNCH_DELAY) end

                    -- DESEQUIPAR
                    tool.Parent = bp
                end
            end

            RunService.Heartbeat:Wait() -- ciclo mÃ¡s rÃ¡pido posible
        end
    end)
end)

Killer:AddSwitch("Auto Reset", function(state)
    _G.AutoReset = state

    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local LP = Players.LocalPlayer

    task.spawn(function()
        while _G.AutoReset do
            local char = LP.Character
            local hum = char and char:FindFirstChildOfClass("Humanoid")

            if hum and hum.Health > 0 then
                hum.Health = 0 -- RESET
            end

            task.wait(1) -- tiempo entre resets (ajÃºstalo)
        end
    end)
end)

local godModeToggle = false
Killer:AddSwitch("God mode", function(State)
    godModeToggle = State
    if State then
        task.spawn(function()
            while godModeToggle do
                game:GetService("ReplicatedStorage").rEvents.brawlEvent:FireServer("joinBrawl")
                task.wait()
            end
        end)
    end
end)
Killer:AddButton("Size 30", function()
    game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", 30)
end)

Killer:AddButton("Size 2", function()
    game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", 2)
end)

local following = false
local followTarget = nil

local function followPlayer(targetPlayer)
    local myChar = LocalPlayer.Character
    local targetChar = targetPlayer.Character

    if not (myChar and targetChar) then return end
    local myHRP = myChar:FindFirstChild("HumanoidRootPart")
    local targetHRP = targetChar:FindFirstChild("HumanoidRootPart")

    if myHRP and targetHRP then
        local followPos = targetHRP.Position - (targetHRP.CFrame.LookVector * 3)
        myHRP.CFrame = CFrame.new(followPos, targetHRP.Position)
    end
end

local followDropdown = Killer:AddDropdown("Teleport player", function(selectedDisplayName)
    if selectedDisplayName and selectedDisplayName ~= "" then
        local target = nil
        for _, plr in ipairs(Players:GetPlayers()) do
            if plr.DisplayName == selectedDisplayName then
                target = plr
                break
            end
        end

        if target then
            followTarget = target.Name
            following = true
            print("Ã¢Å“â€¦ Started following:", target.Name)
            followPlayer(target)
        end
    end
end)

for _, player in ipairs(Players:GetPlayers()) do
    if player ~= LocalPlayer then
        followDropdown:Add(player.DisplayName)
    end
end

Players.PlayerAdded:Connect(function(player)
    if player ~= LocalPlayer then
        followDropdown:Add(player.DisplayName)
    end
end)

Players.PlayerRemoving:Connect(function(player)
    followDropdown:Clear()
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer then
            followDropdown:Add(plr.DisplayName)
        end
    end

    if followTarget == player.Name then
        followTarget = nil
        following = false
    end
end)

Killer:AddButton("Dejar de Seguir", function()
    following = false
    followTarget = nil
    print("Ã¢â€ºâ€ Stopped following")
end)

task.spawn(function()
    while task.wait(0.01) do
        if following and followTarget then
            local target = Players:FindFirstChild(followTarget)
            if target then
                followPlayer(target)
            else
                following = false
                followTarget = nil
            end
        end
    end
end)

LocalPlayer.CharacterAdded:Connect(function()
    task.wait(1)
    if following and followTarget then
        local target = Players:FindFirstChild(followTarget)
        if target then
            followPlayer(target)
        end
    end
end)

local godDamageActive = false


Killer:AddSwitch("auto slams", function(state)
    godDamageActive = state
    if state then
        task.spawn(function()
            while godDamageActive do
                local player = LocalPlayer
                local groundSlam = player.Backpack:FindFirstChild("Ground Slam") or (player.Character and player.Character:FindFirstChild("Ground Slam"))

                if groundSlam then
                    if groundSlam.Parent == player.Backpack then
                        groundSlam.Parent = player.Character
                    end
                    if groundSlam:FindFirstChild("attackTime") then
                        groundSlam.attackTime.Value = 0
                    end
                    player.muscleEvent:FireServer("slam")
                    groundSlam:Activate()
                end

                task.wait(0.1)
            end
        end)
    end
end)



Killer:AddSwitch("Activate Dead Hit", function(Value)
    _G.AutoScripts = Value
    print("AutoScripts " .. (_G.AutoScripts and "ACTIVADO" or "DESACTIVADO âŒ"))

    local Players = game:GetService("Players")
    local RunService = game:GetService("RunService")
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local StarterPack = game:GetService("StarterPack")

    local LocalPlayer = Players.LocalPlayer
    local backpack = LocalPlayer:WaitForChild("Backpack")
    local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local humanoid = character:WaitForChild("Humanoid")

    local BLOCKED_TOOL_NAME = "Protein Egg"
    local SHAKE_TOOL_NAME = "Tropical Shake"
    local PUNCH_TOOL_NAME = "Punch"
    local HAND = "rightHand"

    local function changeSizeNaN()
        local args = {"changeSize", 0/0}
        ReplicatedStorage:WaitForChild("rEvents"):WaitForChild("changeSpeedSizeRemote"):InvokeServer(unpack(args))
    end

    local function findTool(name)
        return backpack:FindFirstChild(name) or StarterPack:FindFirstChild(name) or ReplicatedStorage:FindFirstChild(name)
    end

    local function restoreVisibility(tool)
        for _, part in ipairs(tool:GetDescendants()) do
            if part:IsA("BasePart") then
                part.Transparency = 0
                pcall(function() part.LocalTransparencyModifier = 0 end)
            end
        end
    end

    local function forceEquip(tool)
        if not (character and character:FindFirstChild("Humanoid")) then return end
        pcall(function() character.Humanoid:EquipTool(tool) end)
        task.wait(0.1)
        if not character:FindFirstChild(tool.Name) then
            tool.Parent = character
            task.wait(0.1)
        end
        local equipped = character:FindFirstChild(tool.Name)
        if equipped then restoreVisibility(equipped) end
    end

    local function autoShake()
        spawn(function()
            while _G.AutoScripts do
                local shake = backpack:FindFirstChild(SHAKE_TOOL_NAME)
                if shake then
                    humanoid:EquipTool(shake)
                    RunService.Heartbeat:Wait()
                    if shake.Activate then
                        shake:Activate()
                    end
                end
                task.wait(0.3)
            end
        end)
    end

    local function autoProteinEgg()
        spawn(function()
            while _G.AutoScripts do
                local equipped = character:FindFirstChild(BLOCKED_TOOL_NAME)
                local needEquip = not equipped
                if equipped then
                    for _, part in ipairs(equipped:GetDescendants()) do
                        if part:IsA("BasePart") and part.Transparency > 0 then
                            needEquip = true
                            break
                        end
                    end
                end
                if needEquip then
                    local tool = findTool(BLOCKED_TOOL_NAME)
                    if tool then
                        if tool.Parent ~= backpack then
                            local clone = tool:Clone()
                            clone.Parent = backpack
                            tool = clone
                        end
                        forceEquip(tool)
                    end
                end
                task.wait(0.1)
            end
        end)
    end

    local function autoPunch()
        spawn(function()
            while _G.AutoScripts do
                local muscleEvent = LocalPlayer:FindFirstChild("muscleEvent")
                character = LocalPlayer.Character
                if character and character:FindFirstChild("Humanoid") and muscleEvent then
                    local punchEquipped = character:FindFirstChild(PUNCH_TOOL_NAME)
                    local punchInBackpack = backpack:FindFirstChild(PUNCH_TOOL_NAME)
                    if not punchEquipped and punchInBackpack then
                        character.Humanoid:EquipTool(punchInBackpack)
                    end
                    muscleEvent:FireServer("punch", HAND)
                end
                task.wait(0.01)
            end
        end)
    end

    local function startProteinBlock()
        local player = LocalPlayer
        local function neutralizeTool(tool)
            for _, desc in ipairs(tool:GetDescendants()) do
                if desc:IsA("Script") or desc:IsA("LocalScript") then
                    if desc:IsA("LocalScript") then
                        desc.Disabled = true
                    else
                        desc:Destroy()
                    end
                end
                if desc:IsA("RemoteEvent") then
                    pcall(function() desc.FireServer = function() end end)
                end
            end
        end

        local function onToolEquipped(tool)
            if tool.Name == BLOCKED_TOOL_NAME then
                neutralizeTool(tool)
            end
        end

        local function monitorContainer(container)
            for _, tool in ipairs(container:GetChildren()) do
                if tool:IsA("Tool") and tool.Name == BLOCKED_TOOL_NAME then
                    neutralizeTool(tool)
                end
            end
            container.ChildAdded:Connect(function(child)
                if child:IsA("Tool") and child.Name == BLOCKED_TOOL_NAME then
                    task.defer(function() neutralizeTool(child) end)
                    child.Equipped:Connect(onToolEquipped)
                end
            end)
        end

        player.CharacterAdded:Connect(function(char)
            monitorContainer(player.Backpack)
            monitorContainer(char)
        end)
        if player.Character then
            monitorContainer(player.Backpack)
            monitorContainer(player.Character)
        end
    end

    LocalPlayer.CharacterAdded:Connect(function(char)
        character = char
        humanoid = char:WaitForChild("Humanoid")
    end)

    LocalPlayer.ChildAdded:Connect(function(child)
        if child.Name == "Backpack" then
            backpack = child
        end
    end)

    if _G.AutoScripts then
        changeSizeNaN()
        startProteinBlock()
        autoShake()
        autoProteinEgg()
        autoPunch()
    end
end)


local Lighting = game:GetService("Lighting")
local timeOptions = {
    "Morning",
    "Noon",
    "Afternoon",
    "Sunset",
    "Night",
    "Midnight",
    "Dawn",
    "Early Morning"
}

local timeDropdown = Killer:AddDropdown("change time", function(selection)
    Lighting.Brightness = 2
    Lighting.FogEnd = 100000
    Lighting.Ambient = Color3.fromRGB(127,127,127)

    if selection == "Morning" then
        Lighting.ClockTime = 6
        Lighting.Brightness = 2
        Lighting.Ambient = Color3.fromRGB(200, 200, 255)
    elseif selection == "Noon" then
        Lighting.ClockTime = 12
        Lighting.Brightness = 3
        Lighting.Ambient = Color3.fromRGB(255, 255, 255)
    elseif selection == "Afternoon" then
        Lighting.ClockTime = 16
        Lighting.Brightness = 2.5
        Lighting.Ambient = Color3.fromRGB(255, 220, 180)
    elseif selection == "Sunset" then
        Lighting.ClockTime = 18
        Lighting.Brightness = 2
        Lighting.Ambient = Color3.fromRGB(255, 150, 100)
        Lighting.FogEnd = 500
    elseif selection == "Nigth" then
        Lighting.ClockTime = 20
        Lighting.Brightness = 1.5
        Lighting.Ambient = Color3.fromRGB(100, 100, 150)
        Lighting.FogEnd = 800
    elseif selection == "Midnight" then
        Lighting.ClockTime = 0
        Lighting.Brightness = 1
        Lighting.Ambient = Color3.fromRGB(50, 50, 100)
        Lighting.FogEnd = 400
    elseif selection == "Dawn" then
        Lighting.ClockTime = 4
        Lighting.Brightness = 1.8
        Lighting.Ambient = Color3.fromRGB(180, 180, 220)
    elseif selection == "Early Morning" then
        Lighting.ClockTime = 2
        Lighting.Brightness = 1.2
        Lighting.Ambient = Color3.fromRGB(100, 120, 180)
    end
end)

for _, option in ipairs(timeOptions) do
    timeDropdown:Add(option)
end
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local titleLabel = Killer:AddLabel("Add the display name or initials of his clan")
titleLabel.TextSize = 14
titleLabel.Font = Enum.Font.Merriweather 
titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)

local fileName = "GenesisBlacklist_"..LocalPlayer.Name..".txt"
local blacklistWords = {}
local active = {}
local attackDelay = 0.06

local function trim(s) return s:match("^%s*(.-)%s*$") end

local function parseList(text)
	blacklistWords = {}
	if not text or text == "" then return end
	for w in string.gmatch(text, "[^,]+") do
		local t = trim(w):lower()
		if t ~= "" then table.insert(blacklistWords, t) end
	end
end

if isfile(fileName) then
	local data = readfile(fileName)
	parseList(data)
else
	writefile(fileName, "")
end

local function saveList()
	writefile(fileName, table.concat(blacklistWords, ","))
end

local function getHands(char)
	local right = char and (char:FindFirstChild("RightHand") or char:FindFirstChild("Right Arm"))
	local left = char and (char:FindFirstChild("LeftHand") or char:FindFirstChild("Left Arm"))
	return right, left
end

local function ensurePunchEquipped()
	local char = LocalPlayer.Character
	if not char then return nil end
	local punch = LocalPlayer.Backpack:FindFirstChild("Punch") or char:FindFirstChild("Punch")
	if punch and punch.Parent ~= char then punch.Parent = char end
	return char:FindFirstChild("Punch")
end

local function nameMatchesAny(player)
	if not player then return false end
	local displayName = (player.DisplayName or ""):lower()
	for _, w in ipairs(blacklistWords) do
		if w ~= "" and string.find(displayName, w, 1, true) then
			return true
		end
	end
	return false
end

local function updateLabelText()
	if #blacklistWords == 0 then
		blacklistLabel.Text = "Blacklist: (empty)"
	else
		blacklistLabel.Text = "Blacklist: " .. table.concat(blacklistWords, ", ")
	end
end

blacklistLabel = Killer:AddLabel("")
updateLabelText()

local blacklistBox = Killer:AddTextBox("Add to Blacklist", function(txt)
	parseList((table.concat(blacklistWords, ",")..","..txt))
	saveList()
	updateLabelText()
end, {["placeholder"] = "Ej: MVX, Sigma, Juan"})

local removeBox = Killer:AddTextBox("Remove from Blacklist", function(txt)
	local toRemove = {}
	for w in string.gmatch(txt, "[^,]+") do
		local t = trim(w):lower()
		if t ~= "" then table.insert(toRemove, t) end
	end
	for _, word in ipairs(toRemove) do
		for i = #blacklistWords, 1, -1 do
			if blacklistWords[i] == word then
				table.remove(blacklistWords, i)
			end
		end
	end
	saveList()
	updateLabelText()
end, {["placeholder"] = "Ej: MVX, Sigma, Juan"})

RunService.Heartbeat:Connect(function()
	for _, plr in ipairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer then
			if nameMatchesAny(plr) then
				active[plr] = true
			else
				active[plr] = nil
			end
		end
	end
end)

task.spawn(function()
	while true do
		for plr, _ in pairs(active) do
			if plr and plr.Parent == Players and plr.Character then
				local hrp = plr.Character:FindFirstChild("HumanoidRootPart")
				local hum = plr.Character:FindFirstChild("Humanoid")
				if hrp and hum and hum.Health > 0 then
					local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
					local rightHand, leftHand = getHands(char)
					local punchTool = ensurePunchEquipped()
					if punchTool then
						pcall(function()
							LocalPlayer.muscleEvent:FireServer("punch", "rightHand")
							LocalPlayer.muscleEvent:FireServer("punch", "leftHand")
						end)
					end
					if rightHand and leftHand then
						pcall(function()
							firetouchinterest(rightHand, hrp, 1)
							firetouchinterest(leftHand, hrp, 1)
							firetouchinterest(rightHand, hrp, 0)
							firetouchinterest(leftHand, hrp, 0)
						end)
					end
				end
			end
		end
		task.wait(attackDelay)
	end
end)

Players.PlayerAdded:Connect(function(plr)
	plr:GetPropertyChangedSignal("DisplayName"):Connect(function()
		if nameMatchesAny(plr) then
			active[plr] = true
		else
			active[plr] = nil
		end
	end)
end)

local estadisticas = window:AddTab("Stats")
local SelectPlayerName = ""

local PlayerDrop = estadisticas:AddDropdown("Select Player", function(Value)
    SelectPlayerName = Value:match("| (.+)")
end)

for _, Plr in pairs(game.Players:GetPlayers()) do
    PlayerDrop:Add(Plr.DisplayName .. " | " .. Plr.Name)
end

game.Players.PlayerAdded:Connect(function(Plr)
    PlayerDrop:Add(Plr.DisplayName .. " | " .. Plr.Name)
end)

local function FormatNumberWithCommas(number)
    return tostring(number):reverse():gsub("(%d%d%d)", "%1,"):reverse():gsub("^,", "")
end

local function FormatAbbreviated(number)
    local abbr = {"", "K", "M", "B", "T", "Qa", "Qi"}
    local idx = 1
    while number >= 1000 and idx < #abbr do
        number = number / 1000
        idx += 1
    end
    return string.format("%.2f", number) .. abbr[idx]
end

local function FormatDisplay(value)
    return "[ " .. FormatNumberWithCommas(value) .. " | " .. FormatAbbreviated(value) .. " ]"
end

local Update = estadisticas:AddLabel("")
local Update1 = estadisticas:AddLabel("")
local Update2 = estadisticas:AddLabel("")
local Update3 = estadisticas:AddLabel("")
local Update4 = estadisticas:AddLabel("")
local Update5 = estadisticas:AddLabel("")
local Update6 = estadisticas:AddLabel("")
local Update9 = estadisticas:AddLabel("")
local Update10 = estadisticas:AddLabel("")
local Update11 = estadisticas:AddLabel("")
local Update12 = estadisticas:AddLabel("")
local Update13 = estadisticas:AddLabel("")

estadisticas:AddLabel("â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
estadisticas:AddLabel("Stats Advanced").TextSize = 24

local enemyHealthLabel = estadisticas:AddLabel("Enemy life: N/A")
enemyHealthLabel.TextSize = 20
enemyHealthLabel.TextColor3 = Color3.fromRGB(255, 255, 255)

local playerDamageLabel = estadisticas:AddLabel("Your damage: N/A")
playerDamageLabel.TextSize = 20
playerDamageLabel.TextColor3 = Color3.fromRGB(255, 255, 255)

local hitsToKillLabel = estadisticas:AddLabel("Blows to kill him: N/A")
hitsToKillLabel.TextSize = 20
hitsToKillLabel.TextColor3 = Color3.fromRGB(255, 255, 255)

local wildWizardLabel = estadisticas:AddLabel("Wild Wizard equipped: 0 (0 bonus)")
wildWizardLabel.TextSize = 18

local function countEquipped(player, petName)
    local equipped = player:FindFirstChild("equippedPets")
    if not equipped then return 0 end
    local count = 0
    for _, slot in pairs(equipped:GetChildren()) do
        if slot:FindFirstChild("petReference") and slot.petReference.Value then
            local pet = slot.petReference.Value
            if pet.Name == petName then
                count += 1
            end
        end
    end
    return count
end

local function calculateLocalPlayerDamage()
    local Player = game.Players.LocalPlayer
    local strength = Player:FindFirstChild("leaderstats") and Player.leaderstats:FindFirstChild("Strength")
    if not strength then return 0 end

    local baseDamage = strength.Value * 0.1
    local wildCount = countEquipped(Player, "Wild Wizard")
    local wildBonus = wildCount * 0.33
    wildWizardLabel.Text = "Wild Wizard equipped: "..wildCount.." ("..FormatDisplay(baseDamage*wildBonus).." bonus)"

    return baseDamage * (1 + wildBonus)
end

local function calculateEnemyHealth(targetPlayer)
    if not targetPlayer then return 0 end
    local baseDura = targetPlayer:FindFirstChild("Durability") and targetPlayer.Durability.Value or 0
    local ultFolder = targetPlayer:FindFirstChild("ultimatesFolder")
    local multiplier = 1
    if ultFolder and ultFolder:FindFirstChild("Infernal Health") then
        multiplier = multiplier + 0.15 * ultFolder["Infernal Health"].Value
    end
    return baseDura * multiplier
end

local function calculateHitsToKill(health, damage)
    if damage <= 0 then return "âˆž" end
    local hits = math.ceil(health / damage)
    return hits > 50 and "âˆž" or (hits < 1 and 1 or hits)
end

local function updateStats(targetPlayer)
    if not targetPlayer then
        Update.Text = "Strength: N/A"
        Update1.Text = "Gems: N/A"
        Update2.Text = "Rebirth: N/A"
        Update3.Text = "Agility: N/A"
        Update4.Text = "Durability: N/A"
        Update5.Text = "Kills: N/A"
        Update6.Text = "Muscle King Time: N/A"
        Update9.Text = "Current Map: N/A"
        Update10.Text = "Custom Size: N/A"
        Update11.Text = "Custom Speed: N/A"
        Update12.Text = "Evil Karma: N/A"
        Update13.Text = "Good Karma: N/A"
        enemyHealthLabel.Text = "Enemy life: N/A"
        playerDamageLabel.Text = "Your damage: N/A"
        hitsToKillLabel.Text = "Blows to kill him: N/A"
        wildWizardLabel.Text = "Wild Wizard equipped: 0 (0 bonus)"
        return
    end

    Update.Text = "Strength: " .. (targetPlayer:FindFirstChild("leaderstats") and targetPlayer.leaderstats:FindFirstChild("Strength") and FormatDisplay(targetPlayer.leaderstats.Strength.Value) or "N/A")
    Update1.Text = "Gems: " .. (targetPlayer:FindFirstChild("Gems") and FormatDisplay(targetPlayer.Gems.Value) or "N/A")
    Update2.Text = "Rebirth: " .. (targetPlayer:FindFirstChild("leaderstats") and targetPlayer.leaderstats:FindFirstChild("Rebirths") and FormatDisplay(targetPlayer.leaderstats.Rebirths.Value) or "N/A")
    Update3.Text = "Agility: " .. (targetPlayer:FindFirstChild("Agility") and FormatDisplay(targetPlayer.Agility.Value) or "N/A")
    Update4.Text = "Durability: " .. (targetPlayer:FindFirstChild("Durability") and FormatDisplay(targetPlayer.Durability.Value) or "N/A")
    Update5.Text = "Kills: " .. (targetPlayer:FindFirstChild("leaderstats") and targetPlayer.leaderstats:FindFirstChild("Kills") and FormatDisplay(targetPlayer.leaderstats.Kills.Value) or "N/A")
    Update6.Text = "Muscle King Time: " .. (targetPlayer:FindFirstChild("muscleKingTime") and FormatDisplay(targetPlayer.muscleKingTime.Value) or "N/A")
    Update9.Text = "Current Map: " .. (targetPlayer:FindFirstChild("currentMap") and tostring(targetPlayer.currentMap.Value) or "N/A")
    Update10.Text = "Custom Size: " .. (targetPlayer:FindFirstChild("customSize") and FormatDisplay(targetPlayer.customSize.Value) or "N/A")
    Update11.Text = "Custom Speed: " .. (targetPlayer:FindFirstChild("customSpeed") and FormatDisplay(targetPlayer.customSpeed.Value) or "N/A")
    Update12.Text = "Evil Karma: " .. (targetPlayer:FindFirstChild("evilKarma") and FormatDisplay(targetPlayer.evilKarma.Value) or "N/A")
    Update13.Text = "Good Karma: " .. (targetPlayer:FindFirstChild("goodKarma") and FormatDisplay(targetPlayer.goodKarma.Value) or "N/A")

    local enemyHealth = calculateEnemyHealth(targetPlayer)
    local playerDamage = calculateLocalPlayerDamage()
    local hitsToKill = calculateHitsToKill(enemyHealth, playerDamage)

    enemyHealthLabel.Text = "Enemy life: " .. (enemyHealth > 0 and FormatDisplay(enemyHealth) or "N/A")
    playerDamageLabel.Text = "Your damage: " .. (playerDamage > 0 and FormatDisplay(playerDamage) or "N/A")
    hitsToKillLabel.Text = "Blows to kill him: " .. tostring(hitsToKill)
end

task.spawn(function()
    while task.wait() do
        local selectedPlayer = SelectPlayerName ~= "" and game.Players:FindFirstChild(SelectPlayerName)
        updateStats(selectedPlayer)
    end
end)

local MusicTab = window:AddTab("Music")

local MP3_URL = ""
local Playlist = {}
local currentIndex = 0
local isPaused = false
local fileName = "GenesisPlaylist_"..player.Name..".txt"
local tempIndex = 0
local currentSound = nil

if isfile(fileName) then
	local data = readfile(fileName)
	for url in string.gmatch(data, "[^,]+") do
		table.insert(Playlist, url)
	end
else
	writefile(fileName, "")
end

local function savePlaylist()
	writefile(fileName, table.concat(Playlist, ","))
end

local function formatTime(sec)
	sec = math.floor(sec or 0)
	local m = math.floor(sec / 60)
	local s = sec % 60
	return string.format("%02d:%02d", m, s)
end

local TimeLabel = MusicTab:AddLabel("â±ï¸ 00:00 / 00:00")

local function loadMP3(url)
	if url == "" then return end
	tempIndex = tempIndex + 1
	local tempFile = "GenesisMusic_"..tempIndex..".mp3"

	pcall(function()
		if isfile(tempFile) then delfile(tempFile) end
		writefile(tempFile, game:HttpGet(url))
	end)

	if currentSound then
		currentSound:Destroy()
	end

	currentSound = Instance.new("Sound")
	currentSound.Name = "GenesisMP3Sound"
	currentSound.Parent = SoundService
	currentSound.SoundId = getcustomasset(tempFile)
	currentSound.Volume = 1
	currentSound.Looped = false
	currentSound:Play()
	isPaused = false

	currentSound.Ended:Connect(function()
		if not currentSound.Looped and not isPaused then
			currentIndex = currentIndex + 1
			if currentIndex > #Playlist then currentIndex = 1 end
			loadMP3(Playlist[currentIndex])
		end
	end)
end

task.spawn(function()
	while task.wait(0.1) do
		if currentSound and currentSound:IsDescendantOf(SoundService) and currentSound.IsLoaded then
			TimeLabel.Text = "â±ï¸ " .. formatTime(currentSound.TimePosition) .. " / " .. formatTime(currentSound.TimeLength)

			if not currentSound.IsPlaying and not isPaused and currentSound.TimePosition > 0 and currentSound.TimePosition >= currentSound.TimeLength - 0.2 then
				currentIndex = currentIndex + 1
				if currentIndex > #Playlist then currentIndex = 1 end
				loadMP3(Playlist[currentIndex])
			end
		end
	end
end)

MusicTab:AddTextBox(" MP3 URL", function(val)
	MP3_URL = val
end, {["clear"] = false})

MusicTab:AddButton("Play", function()
	if MP3_URL ~= "" then
		loadMP3(MP3_URL)
	end
end)

MusicTab:AddButton("Continue", function()
	if currentSound then
		if isPaused then
			isPaused = false
			currentSound:Resume()
		else
			currentSound:Play()
		end
	end
end)

MusicTab:AddButton("Pause", function()
	if currentSound and currentSound.IsPlaying then
		currentSound:Pause()
		isPaused = true
	end
end)

MusicTab:AddButton("Stop", function()
	if currentSound then
		currentSound:Stop()
		isPaused = false
	end
end)

MusicTab:AddTextBox("Volumen (0-5)", function(val)
	if currentSound then
		local num = tonumber(val)
		if num then
			currentSound.Volume = math.clamp(num, 0, 5)
		end
	end
end, {["clear"] = false})

MusicTab:AddButton("Toggle Loop", function()
	if currentSound then
		currentSound.Looped = not currentSound.Looped
	end
end)

MusicTab:AddButton("Add to Playlist", function()
	if MP3_URL ~= "" then
		tempIndex = tempIndex + 1
		local tempFile = "GenesisMusic_"..tempIndex..".mp3"
		pcall(function()
			if isfile(tempFile) then delfile(tempFile) end
			writefile(tempFile, game:HttpGet(MP3_URL))
		end)
		table.insert(Playlist, MP3_URL)
		savePlaylist()
	end
end)

MusicTab:AddButton("Play Playlist", function()
	if #Playlist > 0 then
		currentIndex = 1
		loadMP3(Playlist[currentIndex])
	end
end)

MusicTab:AddButton("Next", function()
	if #Playlist > 0 then
		currentIndex = currentIndex + 1
		if currentIndex > #Playlist then currentIndex = 1 end
		loadMP3(Playlist[currentIndex])
	end
end)

MusicTab:AddButton("Previous", function()
	if #Playlist > 0 then
		currentIndex = currentIndex - 1
		if currentIndex < 1 then currentIndex = #Playlist end
		loadMP3(Playlist[currentIndex])
	end
end)

MusicTab:AddButton("Clear Playlist", function()
	Playlist = {}
	savePlaylist()
	currentIndex = 0
end)
local Calculadora = window:AddTab("calculator", Color3.fromRGB(200, 100, 100))

local baseStrength = 0
local resultadoLabelsDamage = {}

local FolderDamage = Calculadora:AddFolder("Pack Damage Calculator")

FolderDamage:AddTextBox("Base Strongth (ej: 1.27Qa, T, B)", function(text)
    local unidades = { ["T"] = 1e12, ["Q"] = 1e15, ["B"] = 1e9 }
    text = text:upper()
    for u, m in pairs(unidades) do
        if text:find(u) then
            local num = tonumber(text:match("(%d+%.?%d*)"))
            if num then
                baseStrength = num * m
                return
            end
        end
    end
    baseStrength = tonumber(text:match("(%d+%.?%d*)")) or 0
end)

local mensajeLabelDamage = FolderDamage:AddLabel("")

for i = 1, 8 do
    resultadoLabelsDamage[i] = FolderDamage:AddLabel(string.format("%d pack(s): -", i))
end

FolderDamage:AddButton("Calculate Damage", function()
    if baseStrength <= 0 then
        mensajeLabelDamage.Text = "Enter a valid value."
        for i = 1, 8 do
            resultadoLabelsDamage[i].Text = string.format("%d pack(s): -", i)
        end
        return
    end

    mensajeLabelDamage.Text = ""

    local danoAjustado = baseStrength * 0.10
    local incremento = 0.335

    for pack = 1, 8 do
        local mult = 1 + (pack * incremento)
        local valor = danoAjustado * mult

        local disp
        if valor >= 1e15 then
            disp = string.format("%.3f Qa", valor / 1e15)
        elseif valor >= 1e12 then
            disp = string.format("%.2f T", valor / 1e12)
        elseif valor >= 1e9 then
            disp = string.format("%.2f B", valor / 1e9)
        else
            disp = tostring(math.floor(valor))
        end

        resultadoLabelsDamage[pack].Text = string.format("%d pack(s): %s", pack, disp)
    end
end)

local baseDurabilidad = 0
local resultadoLabelsDurabilidad = {}

local FolderDurabilidad = Calculadora:AddFolder("Pack Durability Calculator")

FolderDurabilidad:AddTextBox("Base durability (ej: 1.27Qa, T, B)", function(text)
    local unidades = { ["T"] = 1e12, ["Q"] = 1e15, ["B"] = 1e9 }
    text = text:upper()
    for u, m in pairs(unidades) do
        if text:find(u) then
            local num = tonumber(text:match("(%d+%.?%d*)"))
            if num then
                baseDurabilidad = num * m
                return
            end
        end
    end
    baseDurabilidad = tonumber(text:match("(%d+%.?%d*)")) or 0
end)

local mensajeLabelDurabilidad = FolderDurabilidad:AddLabel("")

for i = 1, 8 do
    resultadoLabelsDurabilidad[i] = FolderDurabilidad:AddLabel(string.format("%d pack(s): -", i))
end

FolderDurabilidad:AddButton("Calculate Durability", function()
    if baseDurabilidad <= 0 then
        mensajeLabelDurabilidad.Text = "Enter a valid value."
        for i = 1, 8 do
            resultadoLabelsDurabilidad[i].Text = string.format("%d pack(s): -", i)
        end
        return
    end

    mensajeLabelDurabilidad.Text = ""

    local incremento = 0.335
    local adicional = 1.5

    for pack = 1, 8 do
        local mult = 1 + (pack * incremento)
        local valor = baseDurabilidad * mult * adicional

        local disp
        if valor >= 1e15 then
            disp = string.format("%.3f Qa", valor / 1e15)
        elseif valor >= 1e12 then
            disp = string.format("%.2f T", valor / 1e12)
        elseif valor >= 1e9 then
            disp = string.format("%.2f B", valor / 1e9)
        else
            disp = tostring(math.floor(valor))
        end

        resultadoLabelsDurabilidad[pack].Text = string.format("%d pack(s): %s", pack, disp)
    end
end)

local teleport = window:AddTab("Teleport")

teleport:AddButton("Spawn", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(2, 8, 115)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Spawn",
        Duration = 0
    })
end)

teleport:AddButton("Secret Area", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(1947, 2, 6191)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Secret Area",
        Duration = 0
    })
end)

teleport:AddButton("Tiny Island", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(-34, 7, 1903)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Tiny Island",
        Duration = 0
    })
end)

teleport:AddButton("Frozen Island", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(- 2600.00244, 3.67686558, - 403.884369, 0.0873617008, 1.0482899e-09, 0.99617666, 3.07204253e-08, 1, - 3.7464023e-09, - 0.99617666, 3.09302628e-08, 0.0873617008)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Frozen Island",
        Duration = 0
    })
end)

teleport:AddButton("Mythical Island", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(2255, 7, 1071)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Mythical Island",
        Duration = 0
    })
end)

teleport:AddButton("Hell Island", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(-6768, 7, -1287)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Hell Island",
        Duration = 0
    })
end)

teleport:AddButton("Legend Island", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(4604, 991, -3887)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Legend Island",
        Duration = 0
    })
end)

teleport:AddButton("Muscle King Island", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(-8646, 17, -5738)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Muscle King",
        Duration = 0
    })
end)

teleport:AddButton("Jungle Island", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(-8659, 6, 2384)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Jungle Island",
        Duration = 0
    })
end)

teleport:AddButton("Brawl Lava", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(4471, 119, -8836)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Brawl Lava",
        Duration = 0
    })
end)

teleport:AddButton("Brawl Desert", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(960, 17, -7398)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Brawl Desert",
        Duration = 0
    })
end)

teleport:AddButton("Brawl Regular", function()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
    humanoidRootPart.CFrame = CFrame.new(-1849, 20, -6335)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Teletransporte",
        Text = "Teleported to Brawl Regular",
        Duration = 0
    })
end)





